{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ANTONIO\\\\OneDrive\\\\Escritorio\\\\BOOTCAMP\\\\eshop\\\\client\\\\src\\\\components\\\\ProductList\\\\ProductList.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Pagination } from \"@material-ui/lab\";\nimport { useRedirect } from '../Hooks/useRedirect';\nimport usePagination from \"../Hooks/Pagination\";\nimport './ProductList.css';\nimport ProductContext from '../Contexts/ProductContext';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ProductList = () => {\n  _s();\n\n  const ProductDetailCxt = useContext(ProductContext);\n  const redirect = useRedirect();\n  const [productList, setProductList] = useState([]);\n  let [page, setPage] = useState(1);\n  const Per_Page = 10;\n  const count = Math.ceil(productList.length / Per_Page);\n\n  const _DATA = usePagination(productList, Per_Page);\n\n  const handleChange = (e, p) => {\n    setPage(p);\n\n    _DATA.jump(p);\n  };\n\n  const fetchMyBase = async () => {\n    let response = await axios('/products');\n    console.log(response.data);\n    setProductList(response.data);\n  };\n  /* \n      const fetchData = async(setProductList) => {\n          const url = `http://localhost:8888/products`\n             \n              fetch(url)\n                  .then(response => response.json())\n                  .then(data => {\n                      console.log(\"datos:\",data)\n                          setProductList(data); \n                  })\n                  .catch((error) => {\n                      \n                  });\n      } */\n\n\n  const PintarProducto = ({\n    name,\n    brand,\n    image,\n    price,\n    relevance,\n    onClick\n  }) => {\n    if (relevance === 1) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"Container\",\n        onClick: onClick,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"circle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 22\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            id: \"imgP\",\n            src: image,\n            alt: `${name}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            id: \"brand\",\n            children: brand\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            id: \"nameP\",\n            children: name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            id: \"price\",\n            children: price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            id: \"relevance\",\n            children: relevance\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"stars\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-star checked\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-star unchecked\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-star unchecked\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, this);\n    } else if (relevance === 2) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"Container\",\n        onClick: onClick,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"circle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            id: \"imgP\",\n            src: image,\n            alt: `${name}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            id: \"brand\",\n            children: brand\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            id: \"nameP\",\n            children: name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            id: \"price\",\n            children: price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"stars\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-star checked\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-star checked\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-star unchecked\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this);\n    } else if (relevance === 3) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"Container\",\n        onClick: onClick,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"circle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            id: \"imgP\",\n            src: image,\n            alt: `${name}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            id: \"brand\",\n            children: brand\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            id: \"nameP\",\n            children: name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            id: \"price\",\n            children: price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"stars\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-star checked\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-star checked\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-star checked\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this);\n    }\n  };\n\n  const parseData = productList => {\n    return _DATA.currentData().map(product => {\n      const {\n        id,\n        name,\n        brand,\n        image,\n        price,\n        relevance\n      } = product;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        id: id,\n        children: /*#__PURE__*/_jsxDEV(PintarProducto, {\n          onClick: e => {\n            console.log(\"entra\");\n            redirect(\"/productDetail\", e);\n            ProductDetailCxt.setProductId({ ...ProductDetailCxt,\n              id\n            });\n          },\n          brand: brand,\n          name: name,\n          price: price,\n          image: image,\n          relevance: relevance\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }, this)\n      }, id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }, this);\n    });\n  };\n\n  useEffect(() => {\n    fetchMyBase(setProductList);\n  }, []);\n  console.log(\"product\", productList);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [parseData(productList), /*#__PURE__*/_jsxDEV(Pagination, {\n      count: count,\n      size: \"large\",\n      page: page,\n      variant: \"outlined\",\n      shape: \"rounded\",\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(ProductList, \"cWEQlIzt5GOD+Nvb6n+IudBNUVQ=\", false, function () {\n  return [useRedirect, usePagination];\n});\n\n_c = ProductList;\nexport default ProductList;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductList\");","map":{"version":3,"sources":["C:/Users/ANTONIO/OneDrive/Escritorio/BOOTCAMP/eshop/client/src/components/ProductList/ProductList.js"],"names":["React","useState","useEffect","useContext","Pagination","useRedirect","usePagination","ProductContext","axios","ProductList","ProductDetailCxt","redirect","productList","setProductList","page","setPage","Per_Page","count","Math","ceil","length","_DATA","handleChange","e","p","jump","fetchMyBase","response","console","log","data","PintarProducto","name","brand","image","price","relevance","onClick","parseData","currentData","map","product","id","setProductId"],"mappings":"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","sourcesContent":["import React, {useState,useEffect,useContext} from 'react';\nimport {Pagination} from \"@material-ui/lab\";\nimport {useRedirect} from '../Hooks/useRedirect';\nimport usePagination from \"../Hooks/Pagination\";\nimport './ProductList.css'\nimport ProductContext from '../Contexts/ProductContext';\nimport axios from 'axios';\n\nconst ProductList = ()=> {\n    const ProductDetailCxt = useContext(ProductContext)\n    const redirect = useRedirect();\n\n    const [productList, setProductList] = useState([])\n    let [page, setPage] = useState(1);\n    const Per_Page = 10;\n\n    const count = Math.ceil(productList.length / Per_Page);\n    const _DATA = usePagination(productList, Per_Page);\n    const handleChange = (e,p) => {\n        setPage(p);\n        _DATA.jump(p);\n    };\n\n\n\n    const fetchMyBase = async() => {\n        let response = await axios('/products')\n        console.log(response.data)\n    \n\n        setProductList(response.data)\n    }\n    \n\n/* \n    const fetchData = async(setProductList) => {\n        const url = `http://localhost:8888/products`\n           \n            fetch(url)\n                .then(response => response.json())\n                .then(data => {\n                    console.log(\"datos:\",data)\n                        setProductList(data); \n                })\n                .catch((error) => {\n                    \n                });\n    } */\n    \n  \n    const PintarProducto = ({name,brand,image,price,relevance, onClick}) =>{\n        if(relevance === 1){\n            return (\n            <div id=\"Container\" onClick={onClick}>\n                <div>\n                     <div id=\"circle\"></div>\n                    <img id=\"imgP\" src={image} alt={`${name}`}  />\n                </div>\n                <div>\n                    <h2 id=\"brand\">{brand}</h2>\n                    <p id=\"nameP\">{name}</p>\n                    <p id=\"price\">{price}</p>\n                    <p id=\"relevance\">{relevance}</p>\n                    <div id=\"stars\">\n                        <i className=\"fa fa-star checked\"></i>\n                        <i className=\"fa fa-star unchecked\"></i>\n                        <i className=\"fa fa-star unchecked\"></i>\n                    </div>\n                </div>\n            </div>\n            )\n        }\n        else if(relevance === 2){\n            return (\n                <div id=\"Container\" onClick={onClick}>\n                    <div>\n                        <div id=\"circle\"></div>\n                        <img id=\"imgP\" src={image} alt={`${name}`}  />\n                    </div>\n                <div>\n                        <h2 id=\"brand\">{brand}</h2>\n                        <p id=\"nameP\">{name}</p>\n                        <p id=\"price\">{price}</p>\n                        <div id=\"stars\">\n                                <i className=\"fa fa-star checked\"></i>\n                                <i className=\"fa fa-star checked\"></i>\n                                <i className=\"fa fa-star unchecked\"></i>\n                        </div>\n                </div>\n                </div>\n            )\n        }\n        else if (relevance === 3){\n            return(\n                <div id=\"Container\" onClick={onClick}>\n                    <div>\n                        <div id=\"circle\"></div>\n                        <img id=\"imgP\" src={image} alt={`${name}`}  />\n                    </div>\n                    <div>\n                        <h2 id=\"brand\">{brand}</h2>\n                        <p id=\"nameP\">{name}</p>\n                        <p id=\"price\">{price}</p>\n                        <div id=\"stars\">\n                            <i className=\"fa fa-star checked\"></i>\n                            <i className=\"fa fa-star checked\"></i>\n                            <i className=\"fa fa-star checked\"></i>\n                        </div>\n                    </div>\n                </div>\n            )\n        }\n    }\n\n    const parseData = (productList) =>{\n        return _DATA.currentData().map(product => {\n            const {id,name,brand,image,price,relevance}=product\n            return (\n                <div key={id} id={id} >\n                    <PintarProducto \n                     onClick={(e)=>{\n                        console.log(\"entra\")\n                        redirect(\"/productDetail\",e)\n                        ProductDetailCxt.setProductId({ \n                            ...ProductDetailCxt,id\n                        });    \n                    }}\n                    brand={brand} name={name} price={price} image={image} relevance={relevance}/>\n\n                </div >\n            )\n        })\n    }\n    \n    useEffect(() => {\n        fetchMyBase(setProductList);\n    }, [])\n\n    console.log(\"product\",productList)\n    return (\n        <>\n            {parseData(productList)}\n            <Pagination\n                count={count}\n                size=\"large\"\n                page={page}\n                variant=\"outlined\"\n                shape=\"rounded\"\n                onChange={handleChange}\n            />\n        </>\n    )\n}\n\n\nexport default ProductList;\n\n"]},"metadata":{},"sourceType":"module"}